<?xml version="1.0" encoding="UTF-8"?>
<x:description 
  xmlns:x="http://www.jenitennison.com/xslt/xspec"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:els="http://www.lefebvre-sarrut.eu/ns/els"
  stylesheet="../../../main/xsl/els-log-extract.xsl"
  xslt-version="3.0">

  <!--NOTE : this XSpec uses select="doc(...)" instead of href to avoid indentation differences.
      CTRL + Click on @label will still open the selected file in Oxygen (thanks to @xml:base)
      See https://github.com/xspec/xspec/issues/1090-->
  
  <!-- Overload the main param called $els:logLevels -->
  <x:param name="els:logLevels" select="('info', 'error')" as="xs:string*"/>
  
  <x:param name="sampleBaseUri" select="resolve-uri('../../samples/logs/', $x:xspec-uri)" as="xs:anyURI"/>
  
  <x:scenario label="Extract log - overload the param els:logLevels" xml:base="../../samples/logs/">
    <x:scenario label="sample.xml.with.els.log.xml">
      <x:context select="doc(resolve-uri('sample.xml.with.els.log.xml', $sampleBaseUri))"/>
      <x:expect label="sample.xml.with.els.log-info-error.html" 
        select="doc(resolve-uri('sample.xml.with.els.log-info-error.html', $sampleBaseUri))/*"
        test="doc(resolve-uri('sample.xml.with.els.log-info-error.html', $sampleBaseUri))/*"/>
    </x:scenario>
  </x:scenario>

</x:description>
